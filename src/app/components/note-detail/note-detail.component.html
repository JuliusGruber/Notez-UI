@if (note && mode === 'view') {
  <mat-card>
    <mat-card-header>
      <mat-card-title>{{ note.title }}</mat-card-title>
      <mat-card-subtitle>
        Last updated: {{ note.updatedAt | date:'medium' }}
      </mat-card-subtitle>
    </mat-card-header>

    <mat-card-content>
      <p class="note-content">{{ note.content }}</p>
    </mat-card-content>

    <mat-card-actions align="end">
      <button mat-button color="primary" (click)="enterEditMode()">
        <mat-icon>edit</mat-icon> Edit
      </button>
      <button mat-button color="warn" (click)="confirmDelete()">
        <mat-icon>delete</mat-icon> Delete
      </button>
    </mat-card-actions>
  </mat-card>
}

@if (mode === 'edit' || mode === 'create') {
  <app-note-form
    [note]="mode === 'edit' ? note : null"
    (save)="onSave($event)"
    (cancel)="onCancel()">
  </app-note-form>
}

@if (!note && mode === 'view') {
  <div class="empty-state">
    <mat-icon>description</mat-icon>
    <h2>No note selected</h2>
    <p>Select a note from the list or create a new one</p>
  </div>
}
